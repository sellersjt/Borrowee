@model IEnumerable<Borrowee.Models.TransactionModels.TransactionListItem>
@{
    ViewBag.Title = "Home Page";
}

@if (User.Identity.IsAuthenticated)
{
    <h1>Welcome!</h1>
    if (Model.Count() > 0)
    {
        <h4>Here are your items on loan.</h4>
        <table class="table">
            <tr>
                <th>
                    @Html.DisplayNameFor(model => model.Item.Name)
                </th>
                <th>
                    @Html.DisplayNameFor(model => model.Borrower.FirstName)
                </th>
                <th>
                    @Html.DisplayNameFor(model => model.Borrower.LastName)
                </th>
                <th>
                    @Html.DisplayNameFor(model => model.LentOutDateUtc)
                </th>
                <th></th>
            </tr>

            @foreach (var item in Model)
            {
                <tr>
                    <td>
                        @Html.DisplayFor(modelItem => item.Item.Name)
                    </td>
                    <td>
                        @Html.DisplayFor(modelItem => item.Borrower.FirstName)
                    </td>
                    <td>
                        @Html.DisplayFor(modelItem => item.Borrower.LastName)
                    </td>
                    <td>
                        @Html.DisplayFor(modelItem => item.LentOutDateUtc)
                    </td>
                    <td>
                        @Html.ActionLink("Edit", "Edit", "Transaction", new { id = item.Id }, new { }) |
                        @Html.ActionLink("Details", "Details", "Transaction", new { id = item.Id }, new { }) |
                        @Html.ActionLink("Delete", "Delete", "Transaction", new { id = item.Id }, new { })
                    </td>
                </tr>
            }

        </table>
    }
    else
    {
        <h2>You do not have any items on loan!</h2>
    }
        @Html.ActionLink("Manage Items", "Index", "Item", new { area = "" }, new { @class = "btn btn-primary m-2" })
        @Html.ActionLink("Manage Borrowers", "Index", "Borrower", new { area = "" }, new { @class = "btn btn-primary m-2" })
        @Html.ActionLink("Manage Transactions", "Index", "Transaction", new { area = "" }, new { @class = "btn btn-primary m-2" })
        @Html.ActionLink("Manage Images", "Index", "ItemImage", new { area = "" }, new { @class = "btn btn-primary m-2" })
}
else
{
    <div class="jumbotron m-2 shadow rounded">
        <h1>Manage Your Belongings With Ease</h1>
        <p class="lead">Borrowee allows you to create a record of all your belongings. Keep track of any items you lend out and when they are returned.</p>
        <p><a href="/Account/Login" class="btn btn-primary btn-lg">Get Started</a></p>
    </div>

    <div class="card-group">

        <div class="card m-2 shadow rounded">
            <div class="card-header">Item Database</div>
            <div class="card-body">
                <p class="card-text">
                    ASP.NET MVC gives you a powerful, patterns-based way to build dynamic websites that
                    enables a clean separation of concerns and gives you full control over markup
                    for enjoyable, agile development.
                </p>
            </div>
            @*<div class="card-footer">
                <a class="btn btn-primary" href="https://go.microsoft.com/fwlink/?LinkId=301865">Learn more &raquo;</a>
            </div>*@
        </div>

        <div class="card m-2 shadow">
            <div class="card-header">Get more libraries</div>
            <div class="card-body">
                <p class="card-text">
                    NuGet is a free Visual Studio extension that makes it easy to add, remove, and update libraries and tools in Visual Studio projects.
                </p>
            </div>
            @*<div class="card-footer">
                <a class="btn btn-primary" href="https://go.microsoft.com/fwlink/?LinkId=301866">Learn more &raquo;</a>
            </div>*@
        </div>

        <div class="card m-2 shadow">
            <div class="card-header">Web Hosting</div>
            <div class="card-body">
                <p class="card-text">
                    You can easily find a web hosting company that offers the right mix of features and price for your applications.
                </p>
            </div>
            @*<div class="card-footer">
                <a class="btn btn-primary" href="https://go.microsoft.com/fwlink/?LinkId=301867">Learn more &raquo;</a>
            </div>*@
        </div>

    </div>
}
